backend:
  name: git-gateway
  branch: main

media_folder: "static/uploads"
public_folder: "/static/uploads"

publish_mode: editorial_workflow
locale: "fr"

slug:
  clean_accents: true
  encoding: "unicode"
  sanitize_replacement: "-"

collections:
  # ——— Textes
  - name: "textes"
    label: "Textes"
    label_singular: "Texte"
    folder: "content/textes"
    create: true
    slug: "{{slug}}"
    sortable_fields: ["date", "title"]
    view_filters:
      - label: "Publié"
        field: "draft"
        pattern: false
    preview_path: "textes/{{slug}}/"
    fields:
      - { label: "Titre", name: "title", widget: "string" }
      - { label: "Date", name: "date", widget: "datetime", format: "YYYY-MM-DD" }
      - { label: "Éditeur / Plateforme", name: "publisher", widget: "string", required: false }
      - { label: "URL publique", name: "url", widget: "string", required: false }
      - { label: "Extrait (150 car. env.)", name: "excerpt", widget: "text", required: false }
      - { label: "Brouillon", name: "draft", widget: "boolean", default: false, required: false }
      - { label: "Contenu", name: "body", widget: "markdown" }
      - { label: "Tags", name: "tags", widget: "list", default: ["texte"], required: false }

  # ——— Fiction
  - name: "fiction"
    label: "Fiction"
    label_singular: "Fiction"
    folder: "content/fiction"
    create: true
    slug: "{{slug}}"
    sortable_fields: ["date", "title"]
    preview_path: "fiction/{{slug}}/"
    fields:
      - { label: "Titre", name: "title", widget: "string" }
      - { label: "Date", name: "date", widget: "datetime", format: "YYYY-MM-DD" }
      - { label: "Éditeur / Plateforme", name: "publisher", widget: "string", required: false }
      - { label: "URL publique", name: "url", widget: "string", required: false }
      - { label: "Extrait (150 car. env.)", name: "excerpt", widget: "text", required: false }
      - { label: "Brouillon", name: "draft", widget: "boolean", default: false, required: false }
      - { label: "Contenu", name: "body", widget: "markdown" }
      - { label: "Tags", name: "tags", widget: "list", default: ["fiction"], required: false }

  # ——— Articles
  - name: "articles"
    label: "Articles"
    label_singular: "Article"
    folder: "content/articles"
    create: true
    slug: "{{slug}}"
    sortable_fields: ["date", "title"]
    preview_path: "articles/{{slug}}/"
    fields:
      - { label: "Titre", name: "title", widget: "string" }
      - { label: "Date", name: "date", widget: "datetime", format: "YYYY-MM-DD" }
      - { label: "Éditeur / Plateforme", name: "publisher", widget: "string", required: false }
      - { label: "URL publique", name: "url", widget: "string", required: false }
      - { label: "Extrait (150 car. env.)", name: "excerpt", widget: "text", required: false }
      - { label: "Brouillon", name: "draft", widget: "boolean", default: false, required: false }
      - { label: "Contenu", name: "body", widget: "markdown" }
      - { label: "Tags", name: "tags", widget: "list", default: ["article"], required: false }

  # ——— Œuvres composites
  - name: "oeuvres"
    label: "Œuvres composites"
    label_singular: "Œuvre composite"
    folder: "content/oeuvres"
    create: true
    slug: "{{slug}}"
    sortable_fields: ["date", "title"]
    preview_path: "oeuvres/{{slug}}/"
    fields:
      - { label: "Titre", name: "title", widget: "string" }
      - { label: "Date", name: "date", widget: "datetime", format: "YYYY-MM-DD" }
      - { label: "Éditeur / Plateforme", name: "publisher", widget: "string", required: false }
      - { label: "URL publique", name: "url", widget: "string", required: false }
      - { label: "Extrait (150 car. env.)", name: "excerpt", widget: "text", required: false, hint: "S’affiche tronqué à ~150 caractères sur la liste." }
      - { label: "Brouillon", name: "draft", widget: "boolean", default: false, required: false }
      - { label: "Contenu", name: "body", widget: "markdown" }
      - { label: "Tags", name: "tags", widget: "list", default: ["oeuvre"], required: false }
